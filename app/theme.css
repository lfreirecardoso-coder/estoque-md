/* ====== Tema Dark base (padroniza tudo) ====== */
:root{
  --bg: #1a0e0e;
  --bg-secondary: #211010;
  --panel: #2b1515;
  --panel-2: #351a1a;
  --border: #4d2626;
  --txt: #f0e6e6;
  --muted: #c7b6b6;
  --primary: #e48a8a;
  --danger: #f26a6a;
  --success: #7ddc9f;

  --sidebar: 280px;
  --sidebar-collapsed: 68px;
}

/* Safe-area (iPhone) + altura real em mobile */
.app-body{
  background: var(--bg);
  color: var(--txt);
  min-height: 100svh;
  min-height: 100vh; /* fallback */
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* NAVBAR */
.navbar{
  background: var(--bg);
  border-bottom: 1px solid var(--border);
}
.navbar .navbar-brand{
  color: var(--txt);
  font-weight: 600;
}
.navbar .btn-logout-top{
  color: var(--txt);
  border: 1px solid var(--border);
  background: transparent;
}
.navbar .btn-logout-top:hover{
  border-color: var(--danger);
  color: var(--danger);
}

/* “Hambúrguer” claro (3 barrinhas) */
.btn-menu{
  width: 40px; height: 40px;
  display: inline-flex; align-items:center; justify-content:center;
  border: 1px solid var(--border);
  background: var(--panel);
  border-radius: 8px;
  padding: 0;
}
.hamburger{
  position: relative;
  width: 20px; height: 2px;
  background: var(--txt);
  border-radius: 2px;
}
.hamburger::before,
.hamburger::after{
  content: "";
  position: absolute; left: 0;
  width: 20px; height: 2px;
  background: var(--txt);
  border-radius: 2px;
}
.hamburger::before{ top: -6px; }
.hamburger::after { top:  6px; }

/* Cartões, modais, menus no mesmo tom */
.card, .modal-content, .offcanvas, .dropdown-menu{
  background: var(--panel);
  color: var(--txt);
  border: 1px solid var(--border);
}

/* Títulos e subtítulos */
.page-title{ color: var(--txt); }
.text-muted{ color: var(--muted) !important; }

/* Inputs e selects */
.form-control, .form-select{
  background: var(--panel-2);
  color: var(--txt);
  border: 1px solid var(--border);
}
.form-control:focus, .form-select:focus{
  background: var(--panel-2);
  color: var(--txt);
  border-color: var(--primary);
  box-shadow: 0 0 0 .2rem rgba(228,138,138,.18);
}
.form-control::placeholder{ color: #bca6a6; }

/* Botões “ghost” e estados principais */
.btn-ghost{
  background: transparent;
  border: 1px solid var(--border);
  color: var(--txt);
}
.btn-ghost:hover{
  border-color: var(--primary);
  color: var(--primary);
}
.btn-primary{
  background: var(--primary);
  border-color: var(--primary);
  color: #2b1515;
}
.btn-danger{ background: var(--danger); border-color: var(--danger); }
.btn-success{ background: var(--success); border-color: var(--success); color:#0f2b19; }

/* Tabela */
.table-wrap{ background: var(--panel); border:1px solid var(--border); border-radius:12px; }
.table{ color: var(--txt); margin:0; }
.table thead th{
  background: var(--panel-2);
  color: var(--txt);
  border-bottom: 1px solid var(--border);
}
.table tbody tr{ border-color: var(--border); }
.table-hover tbody tr:hover{ background: rgba(255,255,255,.05); }
.thumb{ width:40px; height:40px; object-fit:cover; border-radius:8px; border:1px solid var(--border); }
.table .btn{ padding:.35rem .6rem; font-size:.9rem; }
@media (max-width: 576px){ .table .btn{ padding:.4rem .55rem; font-size:.85rem; } }

/* Sidebar (desktop) */
.sidebar{
  position: fixed;
  top: 56px; /* altura da navbar */
  left: 0;
  width: var(--sidebar);
  height: calc(100svh - 56px);
  height: calc(100vh - 56px);
  overflow-y: auto;
  background: var(--panel);
  border-right: 1px solid var(--border);
  transition: width .2s ease;
  z-index: 1020;
}
.brand-logo{ width:32px; height:32px; border-radius:50%; border:1px solid var(--border); object-fit:cover; }
.brand-title{ font-size: 1rem; }

.sidebar .nav-link{
  color: var(--txt);
  border-radius: 8px;
  padding: .5rem .75rem;
}
.sidebar .nav-link:hover{ background: rgba(255,255,255,.05); }
.sidebar .nav-link.active{ background: rgba(228,138,138,.15); border:1px solid var(--border); }

.sidebar.sidebar-collapsed{ width: var(--sidebar-collapsed); }
.sidebar.sidebar-collapsed .brand-title,
.sidebar.sidebar-collapsed .nav-link span{ display:none; }

/* Toggle colapso (desktop) */
.toggle-desktop{
  position: fixed;
  top: 64px;
  left: calc(var(--sidebar) - 16px);
  z-index: 1030;
}
.sidebar.sidebar-collapsed ~ .toggle-desktop{
  left: calc(var(--sidebar-collapsed) - 16px);
}

/* Conteúdo: fundo escuro e espaçamentos */
.content{
  background: var(--bg);        /* <— resolve “tudo branco” */
  color: var(--txt);
  min-height: calc(100svh - 56px);
  min-height: calc(100vh - 56px);
  padding: 16px;
  margin-top: 56px; /* abaixo da navbar */
}
@media (min-width: 992px){
  .content{ margin-left: var(--sidebar); }
  .sidebar.sidebar-collapsed ~ .content{
    margin-left: var(--sidebar-collapsed) !important;
  }
}

/* Offcanvas herda as cores acima */
.btn-close-white{ filter: invert(1) grayscale(1); }

/* Esconde sidebar no mobile; usa offcanvas */
@media (max-width: 991.98px){
  .sidebar{ display: none; }
  .toggle-desktop{ display: none; }
}
/* ====== Fix: Tabela dark no Bootstrap ====== */
.table{
  /* cores padrão da tabela */
  --bs-table-bg:            var(--panel);
  --bs-table-color:         var(--txt);
  --bs-table-border-color:  var(--border);
  /* listrada e hover */
  --bs-table-striped-bg:    rgba(255,255,255,.03);
  --bs-table-striped-color: var(--txt);
  --bs-table-hover-bg:      rgba(255,255,255,.05);
  --bs-table-hover-color:   var(--txt);

  color: var(--txt);
  background-color: var(--panel);
  border-color: var(--border);
}

/* remove “branco interno” nas células que o BS aplica por linha/seção */
.table > :not(caption) > * > *{
  background-color: transparent !important;
  color: var(--txt);
  border-color: var(--border);
}

/* cabeça da tabela */
.table thead th{
  background: var(--panel-2) !important;
  color: var(--txt);
  border-bottom: 1px solid var(--border);
}

/* bordas quando usar .table-bordered */
.table-bordered > :not(caption) > * {
  border-width: 0; /* zera nas linhas… */
}
.table-bordered > :not(caption) > * > *{
  border: 1px solid var(--border); /* …e aplica nas células */
}

/* wrapper da tabela */
.table-wrap{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
}

/* botões dentro da tabela um pouco menores */
.table .btn{ padding:.35rem .6rem; font-size:.9rem; }
@media (max-width: 576px){
  .table .btn{ padding:.4rem .55rem; font-size:.85rem; }
}
/* === Força a tabela ficar dark em todos os navegadores (inclusive iOS) === */
.table-wrap{ background: var(--panel); border:1px solid var(--border); border-radius:12px; }
.table{ color: var(--txt); }
.table thead th{
  background: var(--panel-2) !important;
  color: var(--txt) !important;
  border-bottom: 1px solid var(--border) !important;
}
/* O Bootstrap às vezes injeta fundos claros via variável; anulamos isso */
.table, .table>:not(caption)>*>*{
  background-color: transparent !important;
  color: var(--txt) !important;
  border-color: var(--border) !important;
}
.table-hover tbody tr:hover{ background: rgba(255,255,255,.05) !important; }
/* Ícone hambúrguer sempre claro */
.btn .navbar-toggler-icon{
  filter: invert(1) grayscale(1);
  width: 1.25rem;
  height: 1rem;
  background-size: 100% 100%;
}
/* ====== BOTÃO HAMBÚRGUER (3 barrinhas) ====== */
.btn-menu{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 42px; height: 38px;
  border: 1px solid var(--border);
  background: var(--panel);
  border-radius: 8px;
}
.btn-menu:hover{ border-color: var(--primary); }

.btn-menu .hamburger,
.btn-menu .hamburger::before,
.btn-menu .hamburger::after{
  content: "";
  display: block;
  width: 18px;
  height: 2px;
  background: var(--txt);
  border-radius: 2px;
  position: relative;
}
.btn-menu .hamburger::before{ top: -6px; position: relative; }
.btn-menu .hamburger::after{ top:  6px; position: relative; }

/* Botão colapso desktop fixado na esquerda do conteúdo (opcional) */
.toggle-desktop{
  position: fixed;
  top: 66px; left: calc(var(--sidebar) + 12px);
  z-index: 1030;
}
.sidebar.sidebar-collapsed + .content ~ .toggle-desktop,
.sidebar.sidebar-collapsed ~ .toggle-desktop{
  left: calc(68px + 12px);
}

/* ====== OFFCANVAS MOBILE (dark) ====== */
.offcanvas,
.offcanvas .offcanvas-header,
.offcanvas .offcanvas-body{
  background: var(--panel);
  color: var(--txt);
  border-color: var(--border);
}
.offcanvas .offcanvas-title{ color: var(--txt); }
.offcanvas .btn-close{ filter: invert(1) grayscale(1); }
.offcanvas .nav .nav-link{
  color: var(--txt);
  border-radius: 8px;
  padding: .55rem .75rem;
}
.offcanvas .nav .nav-link:hover{ background: rgba(255,255,255,.06); }
.offcanvas .btn-logout{ width: 100%; }

/* ====== TABELA DARK também no iOS/Safari ====== */
.table-wrap{ background: var(--panel); border:1px solid var(--border); border-radius:12px; }
.table{ color: var(--txt); margin:0; }
.table thead th{
  background: var(--panel-2) !important;
  color: var(--txt) !important;
  border-bottom: 1px solid var(--border) !important;
}
.table, .table>:not(caption)>*>*{
  background-color: transparent !important;
  color: var(--txt) !important;
  border-color: var(--border) !important;
}
.table-hover tbody tr:hover{ background: rgba(255,255,255,.05) !important; }

/* Ajuste de conteúdo (se sua base já define isso, mantém) */
@media (min-width: 992px){
  .content{ margin-left: var(--sidebar); }
  .sidebar.sidebar-collapsed + .content,
  .sidebar.sidebar-collapsed ~ .content{
    margin-left: var(--sidebar-collapsed) !important;
  }
}
